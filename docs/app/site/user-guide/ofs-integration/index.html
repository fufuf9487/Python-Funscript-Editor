<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>OFS Integration - Funscript Editor</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Funscript Editor</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">OFS Integration</a>
</li>
                                    
<li>
    <a href="../ui/" class="dropdown-item">UI</a>
</li>
                                    
<li>
    <a href="../algorithms/" class="dropdown-item">Algorithms</a>
</li>
                                    
<li>
    <a href="../config/" class="dropdown-item">Config</a>
</li>
                                    
<li>
    <a href="../build/" class="dropdown-item">Build</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../.." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../ui/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#open-funscripter-integration" class="nav-link">Open Funscripter Integration</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#installation-windows" class="nav-link">Installation (Windows)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#troubleshot" class="nav-link">Troubleshot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="open-funscripter-integration">Open Funscripter Integration</h1>
<p>Currently we use a hacky lua script to communicate between the Python Funscript Generator and the Open Funscripter.</p>
<h2 id="installation-windows">Installation (Windows)</h2>
<ol>
<li>Download the <strong>latest</strong> packed Python Funscript Editor from <a href="https://github.com/michael-mueller-git/Python-Funscript-Editor/releases">github release page</a>.</li>
<li>Extract the Archiv.</li>
<li>Download the <strong>latest</strong> <code>funscript_generator.lua</code> script from <a href="https://github.com/michael-mueller-git/Python-Funscript-Editor/releases">github release page</a>.</li>
<li>Move the downloaded <code>funscript_generator.lua</code> script to <code>data/lua</code> in your OFS directory.</li>
<li>Open the <code>funscript_generator.lua</code> file and adjust the <code>Settings.FunscriptGenerator</code> and <code>Settings.TmpFile</code> variable.</li>
<li><strong>NOTE:</strong> You have to use use <code>/</code> or <code>\\</code> for the <code>\</code> symbols in your path!</li>
<li><code>Settings.FunscriptGenerator</code>: Point to the extracted Python Funscript Editor program (better double check the complete path string to avoid errors later on).</li>
<li><code>Settings.TmpFile</code>: Specifies a temporary file location where to store the result (must be a file not a directory!). The file does not have to exist at the moment. The specified file will be generated from the Python Funscript Editor and will be overwritten automatically at the next time the generator is started!</li>
<li>Now launch OFS.</li>
<li>Navigate to <code>View : Special functions : Custom Functions</code> and select the <code>funscript_generator.lua</code> entry. Click the Button <code>Bind Script</code> (This may trigger the funscript generator, just ignore it for now).</li>
<li>Navigate to <code>Options : Keys : Dynamic</code> and insert a shortcut for the funscript generator.</li>
<li>Now you can use the shortcut at any position in the video to start the funscript generator.</li>
</ol>
<h2 id="troubleshot">Troubleshot</h2>
<p>If you have problems with the OFS integration setup first test if the app work in standalone mode by starting the <code>funscript-editor.exe</code>. This allows the source of the error to be narrowed down more quickly!</p>
<p>If the standalone application works, look for your problem in the issues listed below. If the standalone application not work or your issue was not solved by a point listed below, open an issue with a detailed problem description and the full terminal window output if available.</p>
<h3 id="after-setting-the-min-and-max-value-after-tracking-no-points-are-inserted-in-ofs">After setting the min and max value after tracking no points are inserted in OFS</h3>
<p>If the points are missing in OFS then most likely the variable <code>Settings.TmpFile</code> in the <code>funscript_generator.lua</code> script is set incorrectly or the generator crashes. A crash could happen if your PC does not have enough memory. The amount of memory required depends heavily on the video resolution!</p>
<h3 id="noting-happens-when-i-press-the-shortcut-for-the-funscript-generator">Noting happens when i press the Shortcut for the Funscript Generator</h3>
<p>In most cases, the variable <code>Settings.FunscriptGenerator</code> in the <code>funscript_generator.lua</code> script was not set correctly.</p>
<p>If you are using an older version of the <code>funscript_generator.lua</code> you should download the latest version of the script from the <a href="https://github.com/michael-mueller-git/Python-Funscript-Editor/releases">github release page</a>. With older <code>funscript_generator.lua</code> scripts there were e.g. problems with blanks in the path.</p>
<p><strong>Important:</strong> You have to use use <code>/</code> or <code>\\</code> for the <code>\</code> symbols in your path!</p>
<h3 id="when-calling-the-generator-only-a-message-box-is-displayed-with-the-message-video-file-was-not-specified">When calling the generator, only a message box is displayed with the message: "Video file was not specified!"</h3>
<p>In some cases OFS does not set the path to the video file within the lua script correctly (the variable <code>VideoFilePath</code> is empty). Mostly it helps to save the current project and/or create a new project. Then the variable should be set by OFS and the generator should work.</p>
<h3 id="tracking-stops-automatically">Tracking stops automatically</h3>
<p>If a tacker does not find the selected feature in the next frame, the tracking process stops. If more than 120 frames have already been tracked, a window appears to select the minimum and maximum value in which the reason for the abort is displayed with e.g. <code>Info: Tracker Woman Lost</code>.</p>
<p>If less than 120 frames have been processed, a message box should pop up with the message <code>Tracking time insufficient</code>. In this case, no output is generated because there is not enough data for the algorithm to work with.</p>
<h3 id="tracking-stops-very-often">Tracking stops very often</h3>
<p>The selection of the tracking feature is tricky and requires some practice and experience. For a good tracking result, unique features in the video should be selected near the desired tacking position.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
